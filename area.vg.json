{
  "width": "container",
  "height": "container",
  "background": "#f2f2f2",
  "data": {
    "url": "state_change.csv"
  },
  "layer": [
    {
      "mark": "bar",
      "transform": [
        {
          "filter": "datum.Type != 'births' & datum.Type != 'Inter-state move'& datum.Type != 'Immigration'& datum.Type != 'deaths' & datum.Type != 'Emigration' & datum.Type != 'Moving States'"
        }
      ],
      "encoding": {
        "x": {"timeUnit": "year", "field": "Year", "axis": {"format": "%Y"}, "title": "Year"},
        "y": {"aggregate": "sum", "field": "count", "title": "Change in Population (People)"},
        "color": {
          "legend":{"orient":"top", "title": "Category"},
          "field": "Type",
          "type": "nominal",
          "scale": {
            "domain": [
              "Internal Migration",
              "Overseas Migration",
              "Natural Increase"
            ],
            "range": [
              "#9b45a3",
              "#2f7f7f",
              "#4dbd05"
            ]
          }
        },
        "opacity": {"value": 0.6}
      }
    }
  ]
}